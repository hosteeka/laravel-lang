var a=class{_config;constructor(t){if(!t&&typeof Lang>"u"&&!globalThis.Lang)throw new Error("Lang config is required.");this._config=t||Lang||globalThis.Lang}get currentLocale(){return document.documentElement.lang.replace("-","_")}get defaultLocale(){return this._config.defaultLocale}get fallbackLocale(){return this._config.fallbackLocale}get supportedLocales(){return this._config.supportedLocales}trans(t,n){let l=/^\S+\.\S+$/.test(t),o=s=>{let i=l?t.split(".").reduce((c,g)=>c?.[g]??null,s):s[t]??null;return typeof i=="string"?i:null},r=o(this.translations(this.currentLocale));return!r&&this.currentLocale!==this.defaultLocale&&(r=o(this.translations(this.defaultLocale))),r||(r=o(this.translations(this.fallbackLocale))),r=r??t,n?this.replace(r,n):r}replace(t,n){return t.replace(/:([a-zA-Z0-9_]+)/g,(l,o)=>n[o]||l)}translations(t){return this._config.translations[t]??{}}};function u(){return document.documentElement.lang.replace("-","_")}function f(e){return new a(e).defaultLocale}function L(e){return new a(e).fallbackLocale}function p(e){return new a(e).supportedLocales}function d(e,t,n){return new a(n).trans(e,t)}function C(e,t,n){return d(e,t,n)}function h(e){return{currentLocale:u(),defaultLocale:f(e),fallbackLocale:L(e),supportedLocales:p(e)}}var _={install(e,t){let{currentLocale:n,defaultLocale:l,fallbackLocale:o,supportedLocales:r}=h(t);parseInt(e.version)>2?(e.config.globalProperties.currentLocale=n,e.config.globalProperties.defaultLocale=l,e.config.globalProperties.fallbackLocale=o,e.config.globalProperties.supportedLocales=r):e.mixin({})}};export{_ as LangVue,C as __,u as getCurrentLocale,f as getDefaultLocale,L as getFallbackLocale,p as getSupportedLocales,d as trans,h as useLang};
